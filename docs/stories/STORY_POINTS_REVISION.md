# 스토리 포인트 재평가 및 분할

## 🔍 기존 평가의 문제점

### 과소평가된 이유들:
1. **테스트 작업 누락**: 각 변경사항에 대한 테스트 시간 미포함
2. **의존성 복잡도**: 컴포넌트 간 의존성으로 인한 연쇄 수정 작업
3. **디버깅 시간**: 예상치 못한 버그 수정 시간
4. **코드 리뷰**: 리뷰 피드백 반영 시간
5. **문서화**: 변경사항에 대한 문서 업데이트
6. **회귀 테스트**: 기존 기능 동작 확인

## 📊 수정된 스토리 포인트 (45 → 95점)

### Epic 1: Layout System (7 → 18점)
#### Story 1.1: Layout 컴포넌트 생성 (4 → 8점)
**추가 고려사항**:
- [ ] Header/Footer에서 기존 로직 추출 (2점)
- [ ] 타입 정의 및 Props 설계 (2점)  
- [ ] 테스트 작성 및 검증 (2점)

**세분화된 태스크**:
1. **Research & Design** (1점)
   - [ ] 기존 Header/Footer 로직 분석
   - [ ] Layout Props 인터페이스 설계
   
2. **Implementation** (3점)
   - [ ] Layout 컴포넌트 기본 구조 생성
   - [ ] Header/Footer 통합 로직 구현
   - [ ] 반응형 스타일 적용

3. **Testing & Validation** (2점)  
   - [ ] 단위 테스트 작성
   - [ ] 통합 테스트 실행
   - [ ] 시각적 회귀 테스트

4. **Documentation** (1점)
   - [ ] 컴포넌트 사용법 문서 작성
   - [ ] Props 인터페이스 문서화

5. **Code Review & Refinement** (1점)
   - [ ] 코드 리뷰 피드백 반영
   - [ ] 성능 최적화 검토

#### Story 1.2: 모든 페이지에 Layout 적용 (3 → 10점)
**추가 고려사항**:
- [ ] 5개 페이지별 개별 마이그레이션 (5점)
- [ ] 기존 import 정리 및 검증 (2점)
- [ ] 페이지별 특수 케이스 처리 (3점)

**세분화된 태스크**:
1. **Page Migration Planning** (1점)
   - [ ] 각 페이지의 현재 구조 분석
   - [ ] 마이그레이션 순서 및 전략 수립

2. **Individual Page Migration** (5점)
   - [ ] 홈페이지 Layout 적용 (1점)
   - [ ] 상품 페이지 Layout 적용 (1점)  
   - [ ] 상품 상세 Layout 적용 + Footer 추가 (1.5점)
   - [ ] 구성기 페이지 Layout 적용 (1점)
   - [ ] 404 페이지 Layout 적용 (0.5점)

3. **Import Cleanup** (2점)
   - [ ] 중복된 Header/Footer import 제거
   - [ ] 사용되지 않는 import 정리
   - [ ] Import 경로 최적화

4. **Testing & Validation** (1.5점)
   - [ ] 각 페이지 정상 동작 확인
   - [ ] 라우팅 테스트
   - [ ] 반응형 테스트

5. **Edge Cases** (0.5점)
   - [ ] 특수한 레이아웃 요구사항 처리
   - [ ] 조건부 Footer 표시 로직

---

### Epic 2: Component Architecture (7 → 22점)
#### Story 2.1: 폴더 구조 재정리 (5 → 18점)
**현실적 복잡도**:
- 20+ 컴포넌트 파일 이동
- 100+ import 경로 업데이트  
- IDE 자동 리팩토링 한계로 수동 작업 필요

**세분화된 태스크**:
1. **Structure Planning** (2점)
   - [ ] 새로운 폴더 구조 설계
   - [ ] 컴포넌트 분류 매트릭스 작성
   - [ ] 마이그레이션 체크리스트 생성

2. **Folder Creation & Basic Setup** (2점)
   - [ ] 새로운 폴더 구조 생성
   - [ ] 각 폴더별 index.ts 파일 준비
   - [ ] 기본 export 구조 설정

3. **Component Migration** (8점)
   - [ ] Layout 컴포넌트 이동 (1점)
   - [ ] Section 컴포넌트들 이동 (3점)
   - [ ] Card 컴포넌트들 이동 (2점)
   - [ ] UI 컴포넌트들 이동 (1점)
   - [ ] Icon 컴포넌트들 이동 (1점)

4. **Import Path Updates** (4점)
   - [ ] App Router 페이지들 업데이트 (2점)
   - [ ] 컴포넌트 간 import 업데이트 (2점)

5. **Testing & Validation** (1.5점)
   - [ ] 빌드 오류 확인 및 수정
   - [ ] 모든 페이지 정상 동작 확인
   - [ ] 타입 체크 통과 확인

6. **Documentation Update** (0.5점)
   - [ ] 새로운 폴더 구조 문서 업데이트
   - [ ] Import 가이드 작성

#### Story 2.2: 아이콘 시스템 통합 (2 → 4점)
**추가 작업**:
- [ ] SVG 최적화 및 표준화 (1점)
- [ ] 일관된 Props 인터페이스 (1점)

---

### Epic 3: Type System (7 → 16점)
#### Story 3.1: 타입 정의 중앙화 (4 → 10점)
**복잡도 증가 요인**:
- [ ] 기존 타입들의 충돌 해결 (3점)
- [ ] Generic 타입 설계 복잡도 (2점)
- [ ] 하위 호환성 보장 (2점)

#### Story 3.2: Strict TypeScript (3 → 6점)  
**예상 타입 에러**: 50+ 개
- [ ] 암묵적 any 타입 수정 (2점)
- [ ] Optional chaining 적용 (1점)

---

### Epic 4: Custom Hooks (5 → 12점)
#### Story 4.1: useMenuToggle Hook (3 → 7점)
**복잡한 요구사항**:
- [ ] 외부 클릭 감지 로직 (2점)
- [ ] 키보드 접근성 (ESC 키) (1점)
- [ ] 모바일 터치 이벤트 (1점)

#### Story 4.2: useScrollDirection Hook (2 → 5점)
**성능 최적화 복잡도**:
- [ ] 쓰로틀링/디바운싱 (1점)
- [ ] 메모리 누수 방지 (1점)
- [ ] 브라우저 호환성 (1점)

---

### Epic 5: Performance (7 → 20점)
#### Story 5.1: Component 메모화 (4 → 12점)
**실제 작업량**:
- [ ] 성능 프로파일링 도구 설정 (2점)
- [ ] 각 컴포넌트별 분석 (4점)
- [ ] 메모화 적용 및 테스트 (4점)
- [ ] 성능 회귀 방지 (2점)

#### Story 5.2: 이미지 최적화 (3 → 8점)
**추가 작업**:
- [ ] 이미지 압축 도구 설정 (2점)
- [ ] 반응형 이미지 구현 (2점)
- [ ] 로딩 상태 UI (1점)

---

### Epic 6: Configuration (4 → 7점)
- 환경 변수 검증 로직 추가
- 설정 변경 감지 시스템

## 📈 수정된 전체 계획

### 실제 프로젝트 규모: **95 스토리 포인트**

### 주차별 재계획 (15점/주 → 13점/주)
```
Week 1-2: Epic 1 (Layout System) - 18점
Week 3-4: Epic 2 (Component Architecture) - 22점  
Week 5: Epic 3 (Type System) - 16점
Week 6: Epic 4 (Custom Hooks) - 12점
Week 7: Epic 5 (Performance) - 20점
Week 8: Epic 6 (Configuration) - 7점
```

### 리스크 버퍼: **+15점** (예상치 못한 문제들)
- 브라우저 호환성 이슈
- 서드파티 라이브러리 충돌
- 레거시 코드 예상치 못한 의존성

## 🎯 개선된 추정 방법

### 포인트 산정 공식:
```
Base Implementation + Testing + Documentation + Code Review + Buffer
```

### 각 Story별 체크리스트:
- [ ] **구현 복잡도** (1-5점)
- [ ] **테스트 작성** (1-3점)  
- [ ] **문서화** (0.5-1점)
- [ ] **코드 리뷰** (0.5-1점)
- [ ] **예상치 못한 이슈** (10-20% 버퍼)

## 🔄 다음 단계

1. **상세 스토리 분할**: 각 Epic을 더 작은 Story로 세분화
2. **의존성 매핑**: Story 간 의존성 관계 명확화  
3. **스프린트 계획**: 2주 스프린트 기준 재계획
4. **팀 역량 고려**: 개발자 경험 수준별 포인트 조정

---

*수정일: 2025-01-28*  
*기존: 45점 → 수정: 95점 (+ 버퍼 15점 = 110점)*